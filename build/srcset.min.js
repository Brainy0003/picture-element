(function(e){function i(e){e=String(e);var n=e.length,r=0,i=t.whitespace;for(;r<n;r++)if(i.indexOf(e[r])===-1)return r;return n}function s(e){var n=0,r=[],s=e.length,o="",u=t.whitespace;n=i(e);while(n<s)u.indexOf(e[n])===-1?(o+=e[n++],n===s&&r.push(o)):(r.push(o),o="",n+=i(e.substr(n,s)));return r}function o(e,t,n){var r="",i=e.length;while(t<i&&n.test(e[t]))r+=e[t++];return{result:r,position:t}}function u(e){var n=t.parseInteger(e);return n<0?new Error("Invalid input"):n}function a(e){var n=0,s="positive",o=e.length-1,u,a=0;n=i(e);if(n>o)return new Error("Invlid input");if(e[n]==="-"){s="negative",n++;if(n>o)return new Error("Invlid input")}else if(e[n]==="+"){n++;if(n>o)return new Error("Invlid input")}return r.test(e[n])?(u=t.collectCharacters(e,n,r),n=u.position,a=parseInt(u.result,10),s==="positive"?a:0-a):new Error("Invlid input")}function f(e){return window.console.warn("Using ECMAScript parse float, as the HTML one is not done yet"),window.parseFloat(e)}var t={},n=" 	\n\f\r",r=/^[0-9]$/;Object.defineProperty(e,"HTML",{get:function(){return t}}),Object.defineProperty(t,"whitespace",{get:function(){return n}}),Object.defineProperty(t,"ASCIIDigits",{get:function(){return r}}),Object.defineProperty(t,"collectCharacters",{value:o}),Object.defineProperty(t,"skipWhiteSpace",{value:i}),Object.defineProperty(t,"splitStringOnSpaces",{value:s}),Object.defineProperty(t,"parseNonNegInt",{value:u}),Object.defineProperty(t,"parseInteger",{value:a}),Object.defineProperty(t,"parseFloat",{value:f})})(this),function(e,t){"use strict";function s(){}function o(e){var n=e.value;if(e instanceof t.Attr){var r=0,s,o=n.length,a=[];while(r<o){r+=i.skipWhiteSpace(n.substr(r,o));for(var f=i.whitespace,l="",c;r<o;r++){c=n[r];if(f.indexOf(c)!==-1)break;l+=c}if(l.length===0)return u(a,e);for(s="";r<o;r++){if(n[r]===","){r++;break}s+=n[r]}a.push({url:l,descriptors:s})}return u(a,e)}throw new TypeError("Invalid input")}function u(e,r){function y(e){function r(e,t){for(var n in e)if(n!=="url"&&String(e[n])!==String(t[n]))return!1;return!0}if(e.length>1)for(var t=0;t<=e.length;t++)for(var n=e.length-1;n>t;n--)t!==n&&r(e[t],e[n])&&e.splice(n,1);return e}function b(e,t){var n=/^\d+\u0077$/,r=/^\d+\u0068$/,o=/^[\-\+]?[0-9]*\.?[0-9]+([eE][\-\+]?[0-9]+)?\u0078$/;n.test(e)?(p!==null&&(h=!0),p=i.parseNonNegInt(e)):r.test(e)?(d!==null&&(h=!0),d=i.parseNonNegInt(e)):o.test(e)&&(v!==null&&(h=!0),v=i.parseFloat(e)),h||s.push(new w(t,p,d,v))}function w(e,t,n,r){this.url=e,this.width=t||Infinity,this.height=n||Infinity,this.density=r||1}function E(e,t,n){if(t.length>1){for(var r=0,i=t[r+1],s=t[r];r<t.length;r++)t[r].hasOwnProperty(e)&&t[r][e]<n&&(s=i&&i[e]>s[e]?i:s,t.splice(r--,1),i=t[r+1]);t.length===0&&t.unshift(s)}}function S(e,t){if(t.length>1)for(var n=0,r=t[0];n<t.length;n++)t[n].hasOwnProperty(e)&&!!t[n+1]&&(t[n+1][e]>r[e]?(t.splice(n+1,1),n--):t[n+1][e]!==r[e]&&(r=t[n+1],t.splice(n--,1)))}var s=[],o,u,a;for(var f=0,l=e.length;f<l;f++){var c=i.splitStringOnSpaces(e[f].descriptors),h=!1,p=null,d=null,v=null;for(var m=0,g=c.length;m<g;m++)b(c[m],e[f].url)}return r.ownerElement.hasAttribute("src")&&r.ownerElement.getAttribute("src")!==""&&s.push(new w(r.ownerElement.getAttribute("src"))),s.length===0?{url:null,density:undefined}:(y(s),o=t.innerWidth,u=t.innerHeight,a=t.devicePixelRatio,E("width",s,o),E("height",s,u),E("density",s,a),["width","height","density"].forEach(function(e){S(e,s)}),s.length>1&&n&&t.console.warn("there was more than one candidate?",s),{url:s[0].url,density:s[0].density})}var n=!0,r=new s,i=t.HTML;Object.defineProperty(s.prototype,"parse",{value:o}),Object.defineProperty(e,"srcsetParser",{get:function(){return r}})}(this,window);