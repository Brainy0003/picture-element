<!DOCTYPE html><meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport">

<title>The picture element</title>
<style>
.informative {
	background-color: rgb(233, 251, 233);
}
figure {
	display: block;
	border: thin silver solid;
	margin: 0.5em;
	padding: 0.5em;
	text-align: center;
}
figcaption {
	font-style: italic;
	font-size: smaller;
	text-indent: 0;
}
figcaption:before {
	font-weight: bold;
	counter-increment: figcaption;
	content: "Figure " counter(figcaption) ". "
}
ol > li {
	margin-bottom: 1em;
}
#conformance dd {
	margin-bottom: 1em;
}
pre {
	tab-size: 3; /* Reduce indentation. */
}
.informative-subhed {
	font-size: 120%;
}
a {
	color: blue
}
a:not([href]) {
	color: red
}
#open-issues-xhr {
	font-size: .9em;
}
#open-issues-xhr li {
	padding: .25em 0;
}
#open-issues-xhr .meta {
	display: block;
	font: normal .8em/1 sans-serif;
	padding: .35em 0 0 0;
}
#open-issues-xhr .meta b {
	font-weight: normal;
}
#open-issues-xhr .meta span {
	display: block;
	float: left;
	width: 5.5em;
}

/* --- INLINES --- */
em.rfc2119 {
	text-transform:     lowercase;
	font-variant:       small-caps;
	font-style:         normal;
	color:              #900;
}
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr, h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
	border: none;
}
dfn {
	font-weight:    bold;
}
a.internalDFN {
	color:  inherit;
	border-bottom:  1px solid #99c;
	text-decoration:    none;
}
a.externalDFN {
	color:  inherit;
	border-bottom:  1px dotted #ccc;
	text-decoration:    none;
}
a.bibref {
	text-decoration:    none;
}
cite .bibref {
	font-style: normal;
}
code {
	color:  #ff4500;
}
/* --- --- */
ol.algorithm {
	counter-reset:numsection;
	list-style-type: none;
}
ol.algorithm li {
	margin: 0.5em 0;
}
ol.algorithm li:before {
	font-weight: bold;
	counter-increment: numsection;
	content: counters(numsection, ".") ") ";
}
/* --- TOC --- */
.toc a, .tof a {
	text-decoration:    none;
}
.toc li{
	list-style-type: none;
	padding: .1em 0;
}
a .secno, a .figno {
	color:  #000;
}
ul.tof, ol.tof {
	list-style: none outside none;
}
.caption {
	margin-top: 0.5em;
	font-style:   italic;
}
/* --- TABLE --- */
table.simple {
	border-spacing: 0;
	border-collapse:    collapse;
	border-bottom:  3px solid #005a9c;
}
.simple th {
	background: #005a9c;
	color:  #fff;
	padding:    3px 5px;
	text-align: left;
}
.simple th[scope="row"] {
	background: inherit;
	color:  inherit;
	border-top: 1px solid #ddd;
}
.simple td {
	padding:    3px 10px;
	border-top: 1px solid #ddd;
}
.simple tr:nth-child(even) {
	background: #f0f6ff;
}
/* --- DL --- */
.section dd > p:first-child {
	margin-top: 0;
}
.section dd > p:last-child {
	margin-bottom: 0;
}
.section dd {
	margin-bottom:  1em;
}
.section dl.attrs dd, .section dl.eldef dd {
	margin-bottom:  0;
}
/* --- EXAMPLES --- */
div.example-title {
	min-width: 7.5em;
	color: #b9ab2d;
}
div.example-title span {
	text-transform: uppercase;
}
aside.example, div.example, div.illegal-example {
	padding: 0.5em;
	margin: 1em 0;
	position: relative;
	clear: both;
}
div.illegal-example {
	color: red
}
div.illegal-example p {
	color: black
}
aside.example, div.example {
	padding: .5em;
	border-left-width: .5em;
	border-left-style: solid;
	border-color: #e0cb52;
	background: #fcfaee;
}
aside.example div.example {
	border-left-width: .1em;
	border-color: #999;
	background: #fff;
}
aside.example div.example div.example-title {
	color: #999;
}
/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title {
	padding-right:  1em;
	min-width: 7.5em;
	color: #b9ab2d;
}
div.issue-title {
	color: #e05252;
}
div.note-title {
	color: #52e052;
}
div.issue-title span, div.note-title span {
	text-transform: uppercase;
}
div.note, div.issue {
	margin-top: 1em;
	margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child {
	margin-top: 0
}
.issue, .note {
	padding: .5em;
	border-left-width: .5em;
	border-left-style: solid;
}
div.issue, div.note {
	padding: 0.5em;
	margin: 1em 0;
	position: relative;
	clear: both;
}
span.note, span.issue {
	padding: .1em .5em .15em;
}
.issue {
	border-color: #e05252;
	background: #fbe9e9;
}
.note {
	border-color: #52e052;
	background: #e9fbe9;
}
.stability {
     position: fixed;
     bottom: 0;
     left: 0; right: 0;
     margin: 0 auto 0 auto;
     width: 50%;
     background: maroon; color: yellow;
     -webkit-border-radius: 1em 1em 0 0;
     -moz-border-radius: 1em 1em 0 0;
     border-radius: 1em 1em 0 0;
     -moz-box-shadow: 0 0 1em #500;
     -webkit-box-shadow: 0 0 1em #500;
     box-shadow: 0 0 1em red;
     padding: 0.5em 1em;
     text-align: center;
   }
.stability strong {
 display: block;
}
.stability input {
 -moz-appearance: none; -webkit-appearance: none; margin: 0; 
 border: 0; padding: 0.25em 0.5em; background: transparent; color: black;
 position: absolute; top: -0.5em; right: 0; font: 1.25em sans-serif; text-align: center;
}
.stability input:hover {
 color: white;
 text-shadow: 0 0 2px black;
}
.stability input:active {
 padding: 0.3em 0.45em 0.2em 0.55em;
}
.stability :link, .stability :visited,
.stability :link:hover, .stability :visited:hover {
 background: transparent;
 color: white;
}
</style>
<link href="http://www.w3.org/StyleSheets/TR/W3C-WD" rel="stylesheet">

<!--[if lt IE 9]><script src='http://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->

</head>
<body>
<header><div class="head">
  <p><a href="http://responsiveimages.org"><img alt="Responsive Images Community Group" src="https://raw.github.com/ResponsiveImagesCG/meta/master/logo/Web/RICG_logo_small.png" style="float:right"></a> 
  <a href="http://www.w3.org/"><img alt="W3C" height="48" src="http://www.w3.org/Icons/w3c_home" width="72"></a></p>
  <h1>The picture element	</h1>
  <h2 class="no-num no-toc" id="an-html-extension-for-adaptive-images">An HTML extension for adaptive images</h2>
  <h2 class="no-num no-toc w3c" id="w3c-working-draft-15-january-2013">W3C Working Draft 15 January 2013</h2>
  <dl>
    <dt class="w3c">This Version:</dt>
    <dd class="w3c"><a href="http://www.w3.org/TR/2013/WD-html-picture-element-20130115/">http://www.w3.org/TR/2013/WD-html-picture-element-20130115/</a></dd>
    <dt class="w3c">Latest version:</dt> 
    <dt class="w3c">Previous version:</dt>
    <dd class="w3c">None.</dd>
    <dt class="w3c">Latest Editor's draft:</dt>
    <dd><a href="http://picture.responsiveimages.org">http://picture.responsiveimages.org</a></dd>
    <dt>Participate:</dt>
    <dd><a href="http://w3c.responsiveimages.org">Join the Responsive Images Community Group</a></dd>
    <dd><a href="http://list.responsiveimages.org">Public mailing list</a></dd>
    <dd><a href="irc://irc.w3.org:6665/#respimg">IRC: #respimg on W3C's IRC server</a></dd>
    <dd><a href="https://twitter.com/respimg">Twitter</a></dd>
    <dd><a href="http://gh.responsiveimages.org">Github</a></dd>
    <dt>Version history:</dt>
    <dd><a href="https://github.com/ResponsiveImagesCG/picture-element/commits/gh-pages">Github commits</a> (<a href="https://github.com/ResponsiveImagesCG/picture-element/commits/gh-pages.atom">RSS</a>)</dd>
    <dd><a href="https://twitter.com/respimg_commits">Github commits on Twitter</a></dd>
    <dt>Authors:</dt>
    <dd><a href="#participants">Participants</a> of the  Responsive Images Community Group</dd>
    <dt>Editors:</dt>
    <dd>Marcos Cáceres</dd>
    <dd>Mat Marquis</dd>
    <dd>Yoav Weiss</dd>
    <dd>Adrian Bateman, <a href="http://www.microsoft.com/">Microsoft Corporation</a></dd>
    <dt>Final Specification Licensing Commitments:</dt>
    <dd><a href="http://www.w3.org/community/respimg/spec/26/commitments">http://www.w3.org/community/respimg/spec/26/commitments</a></dd>
  </dl>
  <p class="copyright w3c"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2013 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p>
  
  </div>
    <hr>
</header>
<h2 class="no-toc no-num" id="abstract">Abstract</h2>
<p>The <code><a href="#dfn-picture">picture</a></code> element is an image whose source content is determined    by one or more CSS media queries.</p>
<h2 class="no-toc no-num" id="status">Status of This Document</h2>
  <p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current W3C publications and the latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/">W3C technical reports index</a> at http://www.w3.org/TR/.</em></p>
<div class="w3c">
<p class="stability" id="wip"><strong>This is a work in
  progress!</strong> For the latest updates from the HTML WG and RICG, possibly
  including important bug fixes, please look at the <a href="http://usecases.responsiveimages.org">editor's draft</a> instead. If you find any bugs, typos, or issues please <a href="https://github.com/ResponsiveImagesCG/picture-element/issues">file a bug</a> on Github!
  <input onclick="closeWarning(this.parentNode)" type="button" value="X"></p>
<script>
   function closeWarning(element) {
     element.parentNode.removeChild(element);
     var date = new Date();
     date.setDate(date.getDate()+4);
     document.cookie = 'hide-obsolescence-warning=1; expires=' + date.toGMTString();
   }
   if (getCookie('hide-obsolescence-warning') == '1')
     setTimeout(function () { document.getElementById('wip').parentNode.removeChild(document.getElementById('wip')); }, 2000);
  </script>


  <p>This is a First Public Working Draft.</p>
  <p>This document was published by the <a href="http://www.w3.org/html/wg/">HTML Working Group</a> as a Working Draft. If you are not a HTML working group member and wish to make comments regarding this document please send them to <a href="mailto:public-html-comments@w3.org">public-html-comments@w3.org</a> (<a href="mailto:public-html-comments-request@w3.org?subject=subscribe">subscribe</a>, <a href="http://lists.w3.org/Archives/Public/public-html-comments/">archives</a>). If you are a HTML working group member and wish to make comments regarding this document, please send them to <a href="mailto:public-html@w3.org">public-html@w3.org</a> (<a href="mailto:public-html-request@w3.org?subject=subscribe">subscribe</a>, <a href="http://lists.w3.org/Archives/Public/public-html/">archives</a>). All feedback is welcome.</p>

  <p>Publication as a Working Draft does not imply endorsement by the W3C Membership. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress.</p>

  <p>This document was produced by a group operating under the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>. W3C maintains a <a href="http://www.w3.org/2004/01/pp-impl/40318/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.</p>
</div>
<h2 class="no-num no-toc" id="table-of-contents">Table of Contents</h2>

<!--begin-toc-->
<ol class="toc">
 <li><a href="#introduction"><span class="secno">1 </span>Introduction</a>
  <ol class="toc">
   <li><a href="#example-of-usage"><span class="secno">1.1 </span>Example of usage</a></li>
   <li><a href="#differences-from-img-element"><span class="secno">1.2 </span>Differences from <code>img</code> element</a></ol></li>
 <li><a href="#conformance"><span class="secno">2 </span>Conformance</a></li>
 <li><a href="#definitions"><span class="secno">3 </span>Definitions</a></li>
 <li><a href="#the-picture-element"><span class="secno">4 </span>The <code>picture</code> element</a></li>
 <li><a href="#algorithm-for-deriving-the-source-image"><span class="secno">5 </span>Algorithm for deriving the source image</a></li>
 <li><a class="no-num" href="#open-issues">Open Issues</a></li>
 <li><a class="no-num" href="#acknowledgements">Acknowledgements</a></li>
 <li><a class="no-num" href="#normative-references">Normative references</a></ol>
<!--end-toc-->

<h2 id="introduction"><span class="secno">1 </span>Introduction</h2>
<p><em>This section is non-normative.</em></p>
<p>This specification   provides developers with a means to declare multiple sources for an image, and, through <cite>CSS Media Queries</cite> ([<cite>CSS3-MEDIAQUERIES</cite>]), it gives developers control as to when those images are to be presented to a user. This is achieved by introducing a new <code><a href="#dfn-picture">picture</a></code> element to [<cite>HTML</cite>] that makes use of the <code> source</code> element. The <code><a href="#dfn-picture">picture</a></code> element remains backwards compatible with legacy user agents by degrading gracefully through <a class="internalDFN" href="#dfn-fallback-content">fallback content</a> (i.e., through the <code>img</code> element) while also potentially providing better accessibility than the existing <code>img</code> element. </p>
<p>By relying on [<cite>CSS3-MEDIAQUERIES</cite>], a user agent can <em>respond</em> to changes in the browsing environment by selecting the image source that most closely matches the browsing environment - thus embodying a technique known as <a href="http://en.wikipedia.org/wiki/Responsive_web_design">responsive web design</a> directly in the HTML markup. <a href="http://www.w3.org/TR/css3-mediaqueries/#media1">Media features</a> that a user agent can potentially respond to include, but are not limited to,  pixel widths and heights, and pixel densities, as well as environmental lighting conditions, changes in orientation, and  changes in   media type such as going from screen to print. </p>
<p>This specification also defines the <code>HTMLPictureElement</code> programming interface, which affords developers a set of attributes and methods for interacting with <code><a href="#dfn-picture">picture</a></code> elements through ECMAScript.</p>
<h3 id="example-of-usage"><span class="secno">1.1 </span>Example of usage</h3>
<p><em>This section is non-normative.</em></p>
<p>This first sample shows how to combine the <code><a href="#dfn-picture">picture</a></code> element with the source element, while also providing fallback content for legacy user agents through the <code>img</code> element. </p>
<div class="example">
  <div class="example-title"><span>Example 1</span></div>
  <pre class="example">&lt;picture width="500" height="500"&gt;
   &lt;source media="(min-width: 45em)" src="large.jpg"&gt;
   &lt;source media="(min-width: 18em)" src="med.jpg"&gt;
   &lt;source src="small.jpg"&gt;
   &lt;img src="small.jpg" alt=""&gt;
   &lt;p&gt;Accessible text&lt;/p&gt;
&lt;/picture&gt;</pre>
</div>
<div class="issue">
  <div class="issue-title"><span>Issue 1</span></div>
  <div class="">
    <p>The following example assumes we can get <a href="http://dev.w3.org/html5/srcset/">the <code>srcset</code> attribute</a> supported on HTML's <code>source</code> element. See <a href="https://github.com/Wilto/draft-prop/issues/64">issue 64</a>.</p>
  </div>
</div>
<p>This second example shows how the <code><a href="#dfn-picture">picture</a></code> element can be used with <a href="http://dev.w3.org/html5/srcset/">the <code>srcset</code> attribute</a> to provide a range of sources suitable for a given media query:</p>
<div class="example">
  <div class="example-title"><span>Example 2</span></div>
  <pre class="example">&lt;picture width="500" height="500"&gt;
   &lt;source media="(min-width: 45em)" srcset="large-1.jpg 1x, large-2.jpg 2x"&gt;
   &lt;source media="(min-width: 18em)" srcset="med-1.jpg 1x, med-2.jpg 2x"&gt;
   &lt;source srcset="small-1.jpg 1x, small-2.jpg 2x"&gt;
   &lt;img src="small-1.jpg" alt=""&gt;
   &lt;p&gt;Accessible text&lt;/p&gt;
&lt;/picture&gt;</pre>
</div>
<h3 id="differences-from-img-element"><span class="secno">1.2 </span>Differences from <code>img</code> element</h3>
<p>Unlike the <code>img</code> element and its current <a href="http://dev.w3.org/html5/srcset/"><code>srcset</code> attribute</a>,  the <code><a href="#dfn-picture">picture</a></code> element is intended to allow an author to reference many different image sources and associate those image sources with  a CSS media query [<cite>CSS3-MEDIAQUERIES</cite>]. The <code>srcset</code> attribute of the <code>img</code> element only allows matching on display dimensions and pixel densities, and the user agent is not required to respect the author's declared desires. </p>
<p>The browser dynamically updates the displayed image based on the browsing environment. This means that the developer determines the most suitable image for the browsing environment. Or the most suitable image source may be a different version of an image that has been modified by the author to be suitable for a particular use. </p>
<h2 id="conformance"><span class="secno">2 </span>Conformance</h2>
<p> As well as sections marked as non-normative, all authoring guidelines, diagrams, examples,
  and notes in this specification are non-normative. Everything else in this specification is
  normative. </p>
<p> The key words <em class="rfc2119" title="must">must</em>, <em class="rfc2119" title="must not">must not</em>, <em class="rfc2119" title="required">required</em>, <em class="rfc2119" title="should">should</em>, <em class="rfc2119" title="should not">should not</em>, <em class="rfc2119" title="recommended">recommended</em>, <em class="rfc2119" title="may">may</em>,
  and <em class="rfc2119" title="optional">optional</em> in this specification are to be interpreted as described in [<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>]. </p>
<p>This specification has the same <a href="http://dev.w3.org/html5/spec/single-page.html#conformance-requirements">conformance requirements</a> and applies to the same <a href="http://dev.w3.org/html5/spec/single-page.html#conformance-classes">conformance classes</a> as [<cite>HTML</cite>]. </p>
<p>Implementations that use ECMAScript to expose the APIs defined in this specification <em class="rfc2119" title="must">must</em> implement them in a manner consistent with the ECMAScript Bindings defined in the [<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>] specification.</p>
<h2 id="definitions"><span class="secno">3 </span>Definitions</h2>
<p>The following terms are used throughout this specification so they are gathered here for the readers convenience. The following list of terms is not exhaustive; other terms are defined throughout this specification.</p>
<p>The follow terms are defined by the<cite> </cite>[<cite>HTML</cite>] specification: <dfn id="dfn-img-element"><a href="http://www.w3.org/TR/html5/the-img-element.html#the-img-element"><code>img</code> element</a></dfn>, <dfn id="dfn-source-element"><a href="http://www.w3.org/TR/html5/the-source-element.html#the-source-element"><code>source</code> element</a></dfn>, <dfn id="dfn-fallback-content"><a href="http://www.w3.org/TR/html5/content-models.html#fallback-content">fallback content</a></dfn>, and <dfn id="dfn-valid-media-query"><a href="http://www.w3.org/TR/html5/common-microsyntaxes.html#valid-media-query">valid media query</a></dfn>. </p>
<h2 id="the-picture-element"><span class="secno">4 </span>The <code><a href="#dfn-picture">picture</a></code> element</h2>
<dl>
  <dt><a href="http://dev.w3.org/html5/spec/single-page.html#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
  <dd><a href="http://dev.w3.org/html5/spec/single-page.html#flow-content-1">Flow content</a>.</dd>
  <dd><a href="http://dev.w3.org/html5/spec/single-page.html#phrasing-content-1">Phrasing content</a>.</dd>
  <dd><a href="http://dev.w3.org/html5/spec/single-page.html#embedded-content-2">Embedded content</a>.</dd>
  <dd><a href="http://dev.w3.org/html5/spec/single-page.html#palpable-content-0">Palpable content</a>.</dd>
  <dt><a href="http://dev.w3.org/html5/spec/single-page.html#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
  <dd>Where <a href="http://dev.w3.org/html5/spec/single-page.html#embedded-content-2">embedded content</a> is expected.</dd>
  <dt><a href="http://dev.w3.org/html5/spec/single-page.html#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
  <dd>If zero descendents, then <a href="http://dev.w3.org/html5/spec/content-models.html#transparent">transparent</a>. </dd>
  <dd>One or more <code>source</code> elements.</dd>
  <dd>Zero or one <code>img</code> element, serving as <a class="internalDFN" href="#dfn-fallback-content">fallback content</a>.</dd>
  <dt><a href="http://dev.w3.org/html5/spec/single-page.html#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
  <dd><a href="http://dev.w3.org/html5/spec/single-page.html#global-attributes">Global attributes</a></dd>
  <dd><code>width</code></dd>
  <dd><code>height</code></dd>
  <dt><a href="http://dev.w3.org/html5/spec/single-page.html#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt>
  <dd>
    <pre>[NamedConstructor=Picture,
 NamedConstructor=Picture(unsigned long width),
 NamedConstructor=Picture(unsigned long width, unsigned long height)]
HTMLPictureElement : HTMLImageElement{
   readonly attribute DOMString media; 
}</pre>
  </dd>
</dl>
<p>The <code><dfn id="dfn-picture">picture</dfn></code> element used for displaying an image that can come from a range of sources (see <code>srcset</code> attribute). Which image the user agent displays depends on the <a class="internalDFN" href="#dfn-algorithm-for-deriving-the-source-image">algorithm for deriving the source image</a>. </p>
<p>On getting the <code>media</code> IDL attribute, the user agent <em class="rfc2119" title="must">must</em> return the media query that matches the current environment. </p>
<p>It is <em class="rfc2119" title="recommended">recommended</em> that for cases where a single image source is available, and where no responsive adoption is needed, authors  use the <code>img</code> element. </p>
<p>The <span>chosen image</span> is the embedded content. </p>
<p>For user agents that don't support the <code><a href="#dfn-picture">picture</a></code> element, an author can provide an <code>img</code> element as <a class="internalDFN" href="#dfn-fallback-content">fallback content</a>. User agents <em class="rfc2119" title="should not">should not</em> show this content to the user: it is intended for legacy user agents that do not support <code><a href="#dfn-picture">picture</a></code>, so that a legacy <code>img</code> element can be shown instead.</p>
<p>Authoring requirement: as with the <code>img</code> element, documents  must not use the <code><a href="#dfn-picture">picture</a></code> element as a layout tool. In particular, picture elements should not be used to display transparent images, as they rarely convey meaning and rarely add anything useful to the document. </p>
<p>When used with the <code><a href="#dfn-picture">picture</a></code> element, a <span>document</span> <em class="rfc2119" title="should">should</em> only contain <code>source</code> elements need to represent the same subject matter, but cropping and zooming can differ.</p>
<div class="issue">
  <div class="issue-title"><span>Issue 2</span></div>
  <div class="">
    <p>It should be codified that this is not a mechanism by which to swap disparate images depending on screen size. See bug <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=18384#c7">18384</a>.</p>
  </div>
</div>
<h2 id="algorithm-for-deriving-the-source-image"><span class="secno">5 </span>Algorithm for deriving the source image</h2>
<p>The <dfn id="dfn-algorithm-for-deriving-the-source-image">algorithm for deriving the source image</dfn> as follows. The result is the image source to be used by the <code><a href="#dfn-picture">picture</a></code> element, which reflects  the <code><a href="#dfn-picture">picture</a></code> element's <span><code>src</code> IDL attribute</span>: </p>
<div class="note">
  <div class="note-title"><span>Note</span></div>
  <div class="">
    <p>What we want to do is have the <code><a href="#dfn-picture">picture</a></code> behave exactly the same as an <code>img</code> element, but with the only difference being that it is <code>source</code> elements is used to determine the value of the <code>src</code> IDL attribute (and hence what image content is displayed). How that is determined is through  using the <code>media</code> attribute attribute of the <code>source</code> element.    </p>
    <p>So, to derive the <dfn id="dfn-source-image">source image</dfn>: ignoring any sources whose <code>type</code> is not supported by the browser, gather all the media queries from the <code>source</code> elements' <code>media</code> attributes into a "stylesheet", in document order. Any missing <code>media</code> attributes are just assumed to mean "all". Any media attributes that are not valid media queries are ignored. So, given the following: </p>
    <pre>&lt;picture id="pictureElement"&gt;
<span class="example">   &lt;source media="(min-width: 45em)" srcset="large-1.jpg 1x, large-2.jpg 2x"&gt;
   &lt;source media="(min-width: 18em)" srcset="med-1.jpg 1x, med-2.jpg 2x"&gt;
   
   &lt;!-- assume media all --&gt; 
   &lt;source srcset="small-1.jpg 1x, small-2.jpg 2x"&gt;</span>
   
   &lt;!-- the following are ignored --&gt;
<span class="example">   &lt;source media=" is the message " srcset=""&gt;
      </span>
&lt;/picture&gt;</pre>
    <p>Becomes the rough CSS equivalent of (a virtual stylesheet for the document?):</p>
    <pre>//assume #pictureElement is magically scoped to the corresponding element. 
@media all{
   #pictureElement{
      background-image: image-set(<span class="example">small-1.jpg 1x, small-2.jpg 2x</span>);
   }
}

@media<span class="example"> all and (min-width: 45em)</span>{
   #pictureElement{      
      background-image: image-set(<span class="example">large-1.jpg 1x, large-2.jpg 2x</span>);
   }
}

@media <span class="example">all and </span><span class="example">(min-width: 18em)</span>{
   #pictureElement{      
      background-image: image-set(<span class="example">med-1.jpg 1x, med-2.jpg 2x</span>);
   }
}</pre>
    <p>The API then just works the same as per images. Events are fired in the same way as if the image's src IDL attribute had been set manually by the author. </p>
    <p>The resource fetching behavior of then governed by <cite>CSS Image Values and Replaced Content Module Level 4</cite>.</p>
  </div>
</div>
<p>A user agent <em class="rfc2119" title="may">may</em> override requests for higher-resolution images based on  user preferences. For example: “always request high-resolution images,” “always request low-resolution images,” and “request high-resolution images as bandwidth permits” based on the bandwidth information available to the browser.</p>

<!-- appendix -->

<h2 class="no-num" id="open-issues">Open Issues</h2>
<p>We are tracking <dfn id="dfn-open-issues">open issues</dfn> on Github. <a href="https://github.com/ResponsiveImagesCG/picture-element/issues">Please help close them</a>! </p>
<div id="open-issues-xhr">
</div>
<h2 class="no-toc no-num" id="reference-implementations">Reference implementations</h2>
<p>We have a list of <a href="https://github.com/Wilto/draft-prop/wiki/Current-users,-polyfills,-prototypes,-and-implementations">current users, polyfills, prototypes, and implementations</a> on Github. </p>
<h2 class="no-num" id="acknowledgements">Acknowledgements</h2>
<p class="w3c"><dfn id="participants">Participants</dfn> of the Responsive Images Community Group are: George Adamson, Marie Alhomme, John Allan, Joshua Allen, Angely Alvarez, Aaryn Anderson, Philip Andrews, Phil Archer, Justin Avery, Michael Balensiefer, Toni Barrett, Bruno Barros, Paul Barton, Adrian Bateman, Jesse Renée Beach, Robin Berjon, Seth Bertalotto, Nicolaas Bijvoet, Andreas Bovens, J. Albert Bowden, Adam Bradley, Rodrigo Brancher, Gordon Brander, Paul Bridgestock, Aaron Brosey, Cory Brown, mairead buchan, Kris Bulman, Ariel Burone, Mathias Bynens, Marcos Caceres, Rusty Calder, Ben Callahan, Loïc Calvy, Chuck Carpenter, Brandon Carroll, Frederico Cerdeira, David Clements, Geri Coady, Anne-Gaelle Colom, Cyril Concolato, Pete Correia, Andy Crum, Jason Daihl, Francois Daoust, Kevin Davies, Robert Dawson, Ryan DeBeasi, Anna Debenham, Darryl deHaan, David Demaree, George DeMet, Ian Devlin, peter droogmans, Marlene Frykman, Dennis Gaebel, Nicolas Gallagher, Miguel Garcia, Rafael Garcia Lepper, Larry Garfield, Peter Gasston, David Goss, Chris Grant, Petra Gregorova, Jason Grigsby, Antoine Guergnon, Jeff Guntle, Aaron Gustafson, Jason Haag, Patrick Haney, Anselm Hannemann, chris hardy, Vincent Hardy, Dominique Hazaël-Massieux, Chris Hilditch, Nathan Hinshaw, Sean Hintz, John Holt Ripley, Shane Hudson, Tomomi Imura, Philip Ingrey, Brett Jankord, Scott Jehl, Dave Johnson, Nathanael Jones, Michael Jovel, Chao Ju, Tim Kadlec, Frédéric Kayser, Jin Kim, Andreas Klein, Peter Klein, John Kleinschmidt, Daniel Konopacki, Zoran Kurtin, Gerardo Lagger, Adam Lake, Chris Lamothe, Tom Lane, Matthieu Larcher, Bruce Lawson, Zach Leatherman, Silas Lepcha, Kornel Lesinski, Chris Lilley, grappler login, Tania Lopes, André Luís, Jacine Luisi, David Maciejewski, Kevin Mack, Ethan Malasky, Josh Marinacci, Eduardo Marques, Mathew Marquis, Daniel Martínez, Tom Maslen, Jacob Mather, Chris McAndrew, Denys Mishunov, Sabine Moebs, Ian Moffitt, Orestis Molopodis, jason morita, David Moulton, Brian Muenzenmeyer, Emi Myoudou, Irakli Nadareishvili, Christian Neuberger Jr, David Newton, Todd Nienkerk, Kothary Nishant, Ashley Nolan, Kenneth Nordahl, Lewis Nyman, Alejandro Oviedo, David Owens, Fernando Pasik, Andrew Pez Pengelly, Hassadee Pimsuwan, Manik Rathee, François REMY, Nestor Rojas, Adrian Roselli, Chris Ruppel, Oguzcan Sahin, Viljami Salminen, Luca Salvini, Luke Sands, aron santa, Jad Sarout, Brandon Satrom, Christoph Saxe, Doug Schepers, Jason Schmidt, Christopher Schmitt, Joe Schmitt, Boaz Sender, Tomoyuki Shimizu, Ariel Shkedi, Jen Simmons, Katerina Skotalova, Michael[tm] Smith, Ignacio Soriano Cano, Aaron Stanush, Jared Stilwell, Matt Stow, Kevin Suttle, Satoru Takagi, Philipp Tautz, James Tudsbury, Jacob van Zijp, Jitendra Vyas, Yoav Weiss, George White, Matt Wilcox, Richard Wild, John Albin Wilkins, Owen Winkler, Jeremy Worboys, Mike Wu, Carlos Zepeda, and jintian zheng.</p>

<script src="https://raw.github.com/ResponsiveImagesCG/meta/master/scripts/ga.js"></script> 
<script>
//This script dynamically loads the participants of the CG and shows them in the spec. 
window.addEventListener("DOMContentLoaded", function requestParticipants(){
  var xhr = new XMLHttpRequest(),
  	  output = document.querySelector("#participants"), 
      participantsURL = output.querySelector("a").getAttribute("href"),
	  tempElem = document.createElement("temp"), 
	  participants;
  xhr.open("GET", participantsURL,true);
  xhr.onreadystatechange= processParticipants; 
  xhr.send(null); 
  
  function processParticipants(){
	 if (xhr.readyState==4) {
		//participants are in a table on the other website
		tempElem.innerHTML = xhr.responseText;
		participants = tempElem.querySelectorAll("td > h3");
		if(participants.length > 0){
 	  		showParticipants(participants)
		}
 	}
  } 
  
  function showParticipants(){
	var names  = [],
		prefix = "Participants of the Responsive Images Community Group are: ";
	if(participants.length){
		for(var i = 0; i < participants.length; i++){
			names.push(participants.item(i).textContent);
		}
		output.innerHTML = prefix + names.join(", ") + "."; 
	}
  }
 }, false); 
</script>
<h2 class="no-num" id="normative-references">Normative references</h2>
<dl class="bibliography">
  <dt id="bib-CSS3-MEDIAQUERIES">[CSS3-MEDIAQUERIES]</dt>
  <dd><a href="http://www.w3.org/TR/css3-mediaqueries/"><cite>Media Queries</cite></a>. (<a href="http://www.w3.org/TR/css3-mediaqueries/#status">status</a>).</dd>
  <dt id="bib-HTML5">[HTML]</dt>
  <dd><a href="http://www.w3.org/TR/html5"><cite>HTML5.</cite></a> (<a href="http://www.w3.org/TR/html5#status-of-this-document">status</a>).</dd>
  <dt id="bib-RFC2119">[RFC2119]</dt>
  <dd><a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for use in RFCs to Indicate Requirement Levels.</cite></a></dd>
  <dt id="bib-WEBIDL">[WEBIDL]</dt>
  <dd><a href="http://www.w3.org/TR/WebIDL/"><cite>Web IDL.</cite></a> (<a href="http://www.w3.org/TR/WebIDL/#sotd">status</a>).</dd>
</dl>

